(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1debbd5b"],{"0ccb":function(e,t,n){var a=n("50c4"),i=n("1148"),o=n("1d80"),r=Math.ceil,l=function(e){return function(t,n,l){var s,c,u=String(o(t)),d=u.length,f=void 0===l?" ":String(l),p=a(n);return p<=d||""==f?u:(s=p-d,c=i.call(f,r(s/f.length)),c.length>s&&(c=c.slice(0,s)),e?u+c:c+u)}};e.exports={start:l(!1),end:l(!0)}},1148:function(e,t,n){"use strict";var a=n("a691"),i=n("1d80");e.exports="".repeat||function(e){var t=String(i(this)),n="",o=a(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},"1db8":function(e,t,n){},"333d":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-pagination",{staticClass:"table-pagination",attrs:{"page-sizes":[10,20,30,40,50],"page-size":e.pagerSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagerTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},i=[],o=(n("a9e3"),{props:{pagerSize:{type:Number,default:10},pagerIndex:{type:Number,default:1},pagerTotal:{type:Number,default:0}},data:function(){return{pager:{index:1,size:10,total:0}}},created:function(){this.pager.index=this.pagerIndex,this.pager.size=this.pagerSize,this.pager.total=this.pagerTotal},methods:{handleSizeChange:function(e){this.pager.size=e,this.$emit("pagination-change",this.pager)},handleCurrentChange:function(e){this.pager.index=e,this.$emit("pagination-change",this.pager)}}}),r=o,l=(n("5fea"),n("2877")),s=Object(l["a"])(r,a,i,!1,null,null,null);t["a"]=s.exports},"4d90":function(e,t,n){"use strict";var a=n("23e7"),i=n("0ccb").start,o=n("9a0c");a({target:"String",proto:!0,forced:o},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"53ca":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}},"5fea":function(e,t,n){"use strict";var a=n("8140"),i=n.n(a);i.a},"68b2":function(e,t,n){"use strict";var a=n("1db8"),i=n.n(a);i.a},8140:function(e,t,n){},"9a0c":function(e,t,n){var a=n("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},"9fe8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"header"},[n("div",{staticClass:"header-left"},[e._v("版本管理")]),n("div",{staticClass:"header-right"},[n("el-button",{attrs:{size:"small",type:"danger",disabled:0===this.sels.length},on:{click:function(t){return e.deleteFileOrDirectory(e.sels)}}},[e._v("批量删除")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(t){return e.showDialog("add")}}},[e._v("新增")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableData.loading,expression:"tableData.loading"}],attrs:{data:e.tableData.array,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.selsChange}},[n("el-table-column",{attrs:{type:"selection",align:"center"}}),n("el-table-column",{attrs:{align:"center",label:"版本描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.content))]}}])}),n("el-table-column",{attrs:{align:"center",label:"手机类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.map.phoneType[t.row.phoneType]))]}}])}),n("el-table-column",{attrs:{align:"center",label:"下载路径"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.url))]}}])}),n("el-table-column",{attrs:{align:"center",label:"版本号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.version))]}}])}),n("el-table-column",{attrs:{align:"center",label:"是否强制更新"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.map.force[t.row.force]))]}}])}),n("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-row",{attrs:{gutter:5}},[n("el-col",{attrs:{span:10}},[n("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini"},on:{click:function(n){return e.handleClick(t.row)}}},[e._v("查看")])],1),n("el-col",{attrs:{span:10,size:"mini",tyle:"margin-top: 5px"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini"},on:{click:function(n){return e.showDialog("edit",t.row)}}},[e._v("编辑")])],1)],1)]}}])})],1),n("pagination",{attrs:{"pager-index":e.pager.pageNo,"pager-size":e.pager.pageSize,"pager-total":e.pager.total},on:{"pagination-change":e.handlePagerChange}}),n("el-dialog",{staticStyle:{"z-index":"9999"},attrs:{visible:e.dialogVisible.version,width:"400px",title:("add"===e.mode?"新增":"编辑")+"版本管理信息",center:""},on:{"update:visible":function(t){return e.$set(e.dialogVisible,"version",t)}}},[n("el-form",{attrs:{"label-position":"right","label-width":"100px",model:e.form,size:"mini"}},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:20}},[n("el-form-item",{attrs:{label:"版本描述"}},[n("el-input",{model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),n("el-form-item",{attrs:{label:"手机型号"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.phoneType,callback:function(t){e.$set(e.form,"phoneType",t)},expression:"form.phoneType"}},e._l(e.map.phoneType,(function(e,t){return n("el-option",{key:t,attrs:{value:t,label:e}})})),1)],1),n("el-form-item",{attrs:{label:"下载路径"}},[n("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),n("el-form-item",{attrs:{label:"版本号"}},[n("el-input",{model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1),n("el-form-item",{attrs:{label:"是否更新"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.force,callback:function(t){e.$set(e.form,"force",t)},expression:"form.force"}},e._l(e.map.force,(function(e,t){return n("el-option",{key:t,attrs:{value:t,label:e}})})),1)],1)],1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible.version=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.updateSubmit}},[e._v("提交")])],1)],1),n("el-dialog",{attrs:{title:"版本管理信息",center:"",visible:e.checkVisible,width:"400px"},on:{"update:visible":function(t){e.checkVisible=t}}},[n("div",{staticClass:"box"},[n("div",{staticClass:"one"},[n("span",[e._v("版本描述:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.handleRow.content,callback:function(t){e.$set(e.handleRow,"content",t)},expression:"handleRow.content"}})],1),n("div",{staticClass:"one"},[n("span",[e._v("是否强制更新:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.handleRow.force,callback:function(t){e.$set(e.handleRow,"force",t)},expression:"handleRow.force"}})],1),n("div",{staticClass:"one"},[n("span",[e._v("手机类型:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.handleRow.phoneType,callback:function(t){e.$set(e.handleRow,"phoneType",t)},expression:"handleRow.phoneType"}})],1),n("div",{staticClass:"one"},[n("span",[e._v("下载路径:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.handleRow.url,callback:function(t){e.$set(e.handleRow,"url",t)},expression:"handleRow.url"}})],1),n("div",{staticClass:"one"},[n("span",[e._v("版本号:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.handleRow.version,callback:function(t){e.$set(e.handleRow,"version",t)},expression:"handleRow.version"}})],1),n("div",{staticClass:"one"},[n("span",[e._v("时间:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.handleRow.time,callback:function(t){e.$set(e.handleRow,"time",t)},expression:"handleRow.time"}})],1),n("div",{staticClass:"one"},[n("span",[e._v("ID:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.handleRow.id,callback:function(t){e.$set(e.handleRow,"id",t)},expression:"handleRow.id"}})],1)])])],1)},i=[],o=(n("4de4"),n("a15b"),n("d81d"),n("d3b7"),n("ed08")),r=n("b775");function l(e){return Object(r["a"])({url:"/chat/version/list",method:"GET",params:e})}function s(e,t){return Object(r["a"])({url:"/chat/version/".concat(t),contentType:"edit"===t?"x-www-form-urlencoded":void 0,method:"edit"===t?"PUT":"POST",data:e})}function c(e){return Object(r["a"])({url:"/chat/version/deleteBatch",method:"DELETE",params:e})}var u=n("333d"),d={components:{Pagination:u["a"]},data:function(){return{mode:"",sels:[],tableData:{array:[],row:{},loading:!1},pager:{pageNo:1,pageSize:10,total:0},form:{content:"",force:"",phoneType:"",url:"",version:""},dialogVisible:{version:!1},map:{force:{0:"否",1:"是"},phoneType:{1:"ios",2:"android"}},checkVisible:!1,handleRow:[]}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.tableData.loading=!0;var t=Object.assign({pageNo:this.pager.pageNo,pageSize:this.pager.pageSize},this.filter);l(t).then((function(t){var n=t.result,a=void 0===n?{}:n;e.tableData.array=a.records,e.pager.total=a.total})).finally((function(t){e.tableData.loading=!1}))},showDialog:function(e,t){this.mode=e,this.tableData.row=t||{},this.form=Object(o["c"])(this.form),"edit"===e&&(this.form=Object(o["b"])(this.form,t,{numberToString:!0})),this.dialogVisible.version=!0},updateSubmit:function(){var e=this,t=Object.assign({id:this.tableData.row.id},this.form);t=Object(o["a"])(t),s(t,this.mode).then((function(t){e.$message.success(t.message),e.dialogVisible.version=!1,e.fetchData()}))},handleClick:function(e){this.handleRow=e,this.checkVisible=!0},selsChange:function(e){this.sels=e},deleteFileOrDirectory:function(){var e=this,t=this.sels.map((function(e){return e.id})).join();this.$confirm("确定要删除选中的文件吗?","提示").then((function(){c({ids:t}).then((function(t){t.result;e.fetchData(),e.$message({message:"批量删除成功",type:"success"})}))})).catch((function(e){console.log(e)}))},handlePagerChange:function(e){this.pager.pageNo=e.index,this.pager.pageSize=e.size,this.fetchData()}}},f=d,p=(n("68b2"),n("2877")),h=Object(p["a"])(f,a,i,!1,null,"414a2056",null);t["default"]=h.exports},a15b:function(e,t,n){"use strict";var a=n("23e7"),i=n("44ad"),o=n("fc6a"),r=n("a640"),l=[].join,s=i!=Object,c=r("join",",");a({target:"Array",proto:!0,forced:s||!c},{join:function(e){return l.call(o(this),void 0===e?",":e)}})},a9e3:function(e,t,n){"use strict";var a=n("83ab"),i=n("da84"),o=n("94ca"),r=n("6eeb"),l=n("5135"),s=n("c6b6"),c=n("7156"),u=n("c04e"),d=n("d039"),f=n("7c73"),p=n("241c").f,h=n("06cf").f,b=n("9bf2").f,g=n("58a8").trim,m="Number",v=i[m],y=v.prototype,w=s(f(y))==m,_=function(e){var t,n,a,i,o,r,l,s,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=g(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+c}for(o=c.slice(2),r=o.length,l=0;l<r;l++)if(s=o.charCodeAt(l),s<48||s>i)return NaN;return parseInt(o,a)}return+c};if(o(m,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var S,k=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof k&&(w?d((function(){y.valueOf.call(n)})):s(n)!=m)?c(new v(_(t)),n,k):_(t)},x=a?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),z=0;x.length>z;z++)l(v,S=x[z])&&!l(k,S)&&b(k,S,h(v,S));k.prototype=y,y.constructor=k,r(i,m,k)}},ed08:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));n("4160"),n("c975"),n("b64b"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("4d90"),n("5319"),n("1276"),n("159b"),n("53ca");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.keys(e);return n.forEach((function(n){-1===t.indexOf(n)&&(e[n]="")})),e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.keys(e);return n.forEach((function(n){-1!==t.indexOf(n)||void 0!==e[n]&&null!==e[n]&&""!==e[n]||delete e[n]})),e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{};var a=Object.keys(t);return a.forEach((function(a){a in e&&("number"===typeof t[a]&&n.numberToString?e[a]=t[a].toString():e[a]=t[a])})),e}}}]);