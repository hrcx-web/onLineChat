(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54e2df49"],{"0ccb":function(e,t,n){var a=n("50c4"),i=n("1148"),r=n("1d80"),o=Math.ceil,s=function(e){return function(t,n,s){var l,c,u=String(r(t)),d=u.length,p=void 0===s?" ":String(s),f=a(n);return f<=d||""==p?u:(l=f-d,c=i.call(p,o(l/p.length)),c.length>l&&(c=c.slice(0,l)),e?u+c:c+u)}};e.exports={start:s(!1),end:s(!0)}},1148:function(e,t,n){"use strict";var a=n("a691"),i=n("1d80");e.exports="".repeat||function(e){var t=String(i(this)),n="",r=a(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},"333d":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-pagination",{staticClass:"table-pagination",attrs:{"page-sizes":[10,20,30,40,50],"page-size":e.pagerSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagerTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},i=[],r=(n("a9e3"),{props:{pagerSize:{type:Number,default:10},pagerIndex:{type:Number,default:1},pagerTotal:{type:Number,default:0}},data:function(){return{pager:{index:1,size:10,total:0}}},created:function(){this.pager.index=this.pagerIndex,this.pager.size=this.pagerSize,this.pager.total=this.pagerTotal},methods:{handleSizeChange:function(e){this.pager.size=e,this.$emit("pagination-change",this.pager)},handleCurrentChange:function(e){this.pager.index=e,this.$emit("pagination-change",this.pager)}}}),o=r,s=(n("5fea"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,null,null);t["a"]=l.exports},"4d90":function(e,t,n){"use strict";var a=n("23e7"),i=n("0ccb").start,r=n("9a0c");a({target:"String",proto:!0,forced:r},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"53ca":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("a4d3"),n("e01a"),n("d28b"),n("d3b7"),n("3ca3"),n("ddb0");function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}},"5fea":function(e,t,n){"use strict";var a=n("8140"),i=n.n(a);i.a},8140:function(e,t,n){},9204:function(e,t,n){},"9a0c":function(e,t,n){var a=n("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},"9fe8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"header"},[n("div",{staticClass:"header-left"},[e._v("版本管理")]),n("div",{staticClass:"header-right"},[n("el-button",{attrs:{size:"small",type:"danger",disabled:0===e.sels.length},on:{click:function(t){return e.deleteFileOrDirectory(e.sels)}}},[e._v("批量删除")]),n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(t){return e.showDialog("add")}}},[e._v("新增")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableData.loading,expression:"tableData.loading"}],attrs:{data:e.tableData.array,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.selsChange}},[n("el-table-column",{attrs:{type:"selection",align:"center"}}),n("el-table-column",{attrs:{align:"center",label:"版本描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.content))]}}])}),n("el-table-column",{attrs:{align:"center",label:"手机类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.map.phoneType[t.row.phoneType]))]}}])}),n("el-table-column",{attrs:{align:"center",label:"下载路径"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.url))]}}])}),n("el-table-column",{attrs:{align:"center",label:"版本号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.version))]}}])}),n("el-table-column",{attrs:{align:"center",label:"是否强制更新"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.map.isForce[t.row.isForce]))]}}])}),n("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-row",{attrs:{gutter:5}},[n("el-col",{attrs:{span:10}},[n("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini"},on:{click:function(n){return e.handleClick(t.row)}}},[e._v("查看")])],1),n("el-col",{attrs:{span:10,size:"mini",tyle:"margin-top: 5px"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{size:"mini"},on:{click:function(n){return e.showDialog("edit",t.row)}}},[e._v("编辑")])],1)],1)]}}])})],1),n("pagination",{attrs:{"pager-index":e.pager.pageNo,"pager-size":e.pager.pageSize,"pager-total":e.pager.total},on:{"pagination-change":e.handlePagerChange}}),n("el-dialog",{staticStyle:{"z-index":"9999"},attrs:{visible:e.dialogVisible.version,width:"400px",title:("add"===e.mode?"新增":"编辑")+"版本管理信息",center:""},on:{"update:visible":function(t){return e.$set(e.dialogVisible,"version",t)}}},[n("el-form",{ref:"form",attrs:{"label-position":"right",rules:e.rules,"validate-on-rule-change":!1,"label-width":"100px",model:e.form,size:"mini"}},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:20}},[n("el-form-item",{attrs:{label:"版本描述",prop:"content"}},[n("el-input",{model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1),n("el-form-item",{attrs:{label:"手机型号",prop:"phoneType"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.phoneType,callback:function(t){e.$set(e.form,"phoneType",t)},expression:"form.phoneType"}},e._l(e.map.phoneType,(function(e,t){return n("el-option",{key:t,attrs:{value:t,label:e}})})),1)],1),n("el-form-item",{attrs:{label:"下载路径",prop:"url"}},[n("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),n("el-form-item",{attrs:{label:"版本号",prop:"version"}},[n("el-input",{model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1),n("el-form-item",{attrs:{label:"是否更新",prop:"isForce"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.isForce,callback:function(t){e.$set(e.form,"isForce",t)},expression:"form.isForce"}},e._l(e.map.isForce,(function(e,t){return n("el-option",{key:t,attrs:{value:t,label:e}})})),1)],1)],1)],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible.version=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.updateSubmit("form")}}},[e._v("提交")])],1)],1),n("el-dialog",{attrs:{title:"版本管理信息",center:"",visible:e.checkVisible,width:"400px"},on:{"update:visible":function(t){e.checkVisible=t}}},[n("div",{staticClass:"box"},[n("div",{staticClass:"one"},[n("span",[e._v("版本描述:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.handleRow.content,callback:function(t){e.$set(e.handleRow,"content",t)},expression:"handleRow.content"}})],1),n("div",{staticClass:"one"},[n("span",[e._v("是否强制更新:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.map.isForce[e.handleRow.isForce],callback:function(t){e.$set(e.map.isForce,e.handleRow.isForce,t)},expression:"map.isForce[handleRow.isForce]"}})],1),n("div",{staticClass:"one"},[n("span",[e._v("手机类型:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.map.phoneType[e.handleRow.phoneType],callback:function(t){e.$set(e.map.phoneType,e.handleRow.phoneType,t)},expression:"map.phoneType[handleRow.phoneType]"}})],1),n("div",{staticClass:"one"},[n("span",[e._v("下载路径:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.handleRow.url,callback:function(t){e.$set(e.handleRow,"url",t)},expression:"handleRow.url"}})],1),n("div",{staticClass:"one"},[n("span",[e._v("版本号:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.handleRow.version,callback:function(t){e.$set(e.handleRow,"version",t)},expression:"handleRow.version"}})],1),n("div",{staticClass:"one"},[n("span",[e._v("时间:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.handleRow.time,callback:function(t){e.$set(e.handleRow,"time",t)},expression:"handleRow.time"}})],1),n("div",{staticClass:"one"},[n("span",[e._v("ID:")]),n("el-input",{attrs:{disabled:!0,size:"mini"},model:{value:e.handleRow.id,callback:function(t){e.$set(e.handleRow,"id",t)},expression:"handleRow.id"}})],1)])])],1)},i=[],r=(n("4de4"),n("a15b"),n("d81d"),n("d3b7"),n("ed08")),o=n("b775");function s(e){return Object(o["a"])({url:"/chat/version/list",method:"GET",params:e})}function l(e,t){return Object(o["a"])({url:"/chat/version/".concat(t),contentType:"edit"===t?"x-www-form-urlencoded":void 0,method:"edit"===t?"PUT":"POST",params:e})}function c(e){return Object(o["a"])({url:"/chat/version/deleteBatch",method:"DELETE",params:e})}var u=n("333d"),d={components:{Pagination:u["a"]},data:function(){return{mode:"",sels:[],tableData:{array:[],row:{},loading:!1},pager:{pageNo:1,pageSize:10,total:0},form:{content:"",isForce:"",phoneType:"",url:"",version:""},dialogVisible:{version:!1},map:{isForce:{0:"否",1:"是"},phoneType:{1:"ios",2:"android"}},checkVisible:!1,handleRow:[],rules:{content:[{required:!0,message:"请输入版本描述",trigger:"blur"}],url:[{required:!0,message:"请输入下载路径",trigger:"blur"}],version:[{required:!0,message:"请输入版本号",trigger:"blur"}]}}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.tableData.loading=!0;var t=Object.assign({pageNo:this.pager.pageNo,pageSize:this.pager.pageSize},this.filter);s(t).then((function(t){var n=t.result,a=void 0===n?{}:n;e.tableData.array=a.records,e.pager.total=a.total})).finally((function(t){e.tableData.loading=!1}))},showDialog:function(e,t){this.mode=e,this.tableData.row=t||{},this.form=Object(r["c"])(this.form),"edit"===e&&(this.form=Object(r["b"])(this.form,t,{numberToString:!0})),this.dialogVisible.version=!0},updateSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var n=Object.assign({id:t.tableData.row.id},t.form);n=Object(r["a"])(n),l(n,t.mode).then((function(e){t.$message.success(e.message),t.dialogVisible.version=!1,t.fetchData()}))}))},handleClick:function(e){this.handleRow=e,this.checkVisible=!0},selsChange:function(e){this.sels=e},deleteFileOrDirectory:function(){var e=this,t=this.sels.map((function(e){return e.id})).join();this.$confirm("确定要删除选中的文件吗?","提示").then((function(){c({ids:t}).then((function(t){e.$message.success(t.message),e.fetchData()}))})).catch((function(e){console.log(e)}))},handlePagerChange:function(e){this.pager.pageNo=e.index,this.pager.pageSize=e.size,this.fetchData()}}},p=d,f=(n("ceb0"),n("2877")),h=Object(f["a"])(p,a,i,!1,null,"6a78881e",null);t["default"]=h.exports},a15b:function(e,t,n){"use strict";var a=n("23e7"),i=n("44ad"),r=n("fc6a"),o=n("a640"),s=[].join,l=i!=Object,c=o("join",",");a({target:"Array",proto:!0,forced:l||!c},{join:function(e){return s.call(r(this),void 0===e?",":e)}})},a9e3:function(e,t,n){"use strict";var a=n("83ab"),i=n("da84"),r=n("94ca"),o=n("6eeb"),s=n("5135"),l=n("c6b6"),c=n("7156"),u=n("c04e"),d=n("d039"),p=n("7c73"),f=n("241c").f,h=n("06cf").f,g=n("9bf2").f,b=n("58a8").trim,m="Number",v=i[m],y=v.prototype,w=l(p(y))==m,_=function(e){var t,n,a,i,r,o,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=b(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+c}for(r=c.slice(2),o=r.length,s=0;s<o;s++)if(l=r.charCodeAt(s),l<48||l>i)return NaN;return parseInt(r,a)}return+c};if(r(m,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var S,k=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof k&&(w?d((function(){y.valueOf.call(n)})):l(n)!=m)?c(new v(_(t)),n,k):_(t)},x=a?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),z=0;x.length>z;z++)s(v,S=x[z])&&!s(k,S)&&g(k,S,h(v,S));k.prototype=y,y.constructor=k,o(i,m,k)}},ceb0:function(e,t,n){"use strict";var a=n("9204"),i=n.n(a);i.a},ed08:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));n("4160"),n("c975"),n("b64b"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("4d90"),n("5319"),n("1276"),n("159b"),n("53ca");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.keys(e);return n.forEach((function(n){-1===t.indexOf(n)&&(e[n]="")})),e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.keys(e);return n.forEach((function(n){-1!==t.indexOf(n)||void 0!==e[n]&&null!==e[n]&&""!==e[n]||delete e[n]})),e}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{};for(var a=Object.keys(t),i=n.clearKeys,r=void 0===i?[]:i,o=0,s=a;o<s.length;o++){var l=s[o];if(l in e){if(r.indexOf(l)>-1)continue;"number"===typeof t[l]&&n.numberToString?e[l]=t[l].toString():e[l]=t[l]}}return e}}}]);