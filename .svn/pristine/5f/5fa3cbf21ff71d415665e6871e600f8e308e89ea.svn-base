(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-007aa52c"],{"0ccb":function(e,t,a){var n=a("50c4"),r=a("1148"),i=a("1d80"),o=Math.ceil,l=function(e){return function(t,a,l){var s,c,u=String(i(t)),f=u.length,p=void 0===l?" ":String(l),d=n(a);return d<=f||""==p?u:(s=d-f,c=r.call(p,o(s/p.length)),c.length>s&&(c=c.slice(0,s)),e?u+c:c+u)}};e.exports={start:l(!1),end:l(!0)}},1148:function(e,t,a){"use strict";var n=a("a691"),r=a("1d80");e.exports="".repeat||function(e){var t=String(r(this)),a="",i=n(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(a+=t);return a}},2241:function(e,t,a){"use strict";a.d(t,"f",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return u}));var n=a("b775");function r(e,t){return Object(n["a"])({url:"/chat/distributorAdmin/".concat(t),contentType:"x-www-form-urlencoded",method:"edit"===t?"PUT":"POST",data:e})}function i(e){return Object(n["a"])({url:"/chat/distributorAdmin/list",method:"GET",params:e})}function o(e){return Object(n["a"])({url:"/chat/distributorAdmin/deleteBatch",method:"DELETE",params:e})}function l(e,t){return Object(n["a"])({url:"/chat/distributorInfo/".concat(t),contentType:"x-www-form-urlencoded",method:"edit"===t?"PUT":"POST",data:e})}function s(e){return Object(n["a"])({url:"/chat/distributorInfo/list",method:"GET",params:e})}function c(){return Object(n["a"])({url:"/chat/distributorAdmin/getDisAdminMapping",method:"GET"})}function u(e){return Object(n["a"])({url:"/chat/distributorInfo/deleteBatch",method:"DELETE",params:e})}},"26ba":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"header"},[a("el-form",{attrs:{inline:"",size:"mini"}},[a("el-form-item",[a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入平台名称"},model:{value:e.filter.platformName,callback:function(t){e.$set(e.filter,"platformName",t)},expression:"filter.platformName"}})],1),a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"请选择渠道类型"},model:{value:e.filter.distributeType,callback:function(t){e.$set(e.filter,"distributeType",t)},expression:"filter.distributeType"}},e._l(e.map.distributeType,(function(e,t){return a("el-option",{key:t,attrs:{value:t,label:e}})})),1)],1),a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"请选择渠道商管理员"},model:{value:e.filter.sysUserId,callback:function(t){e.$set(e.filter,"sysUserId",t)},expression:"filter.sysUserId"}},e._l(e.map.admin,(function(e,t){return a("el-option",{key:t,attrs:{value:t,label:e}})})),1)],1),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.fetchData}})],1)],1),a("div",{staticClass:"top"},[a("div",{staticClass:"top-left"},[e._v("渠道商信息管理")]),a("div",{staticClass:"top-right"},[a("el-button",{attrs:{size:"small",disabled:0===e.multipleTable.length,type:"danger"},on:{click:function(t){return e.deleteBatch(e.multipleTable)}}},[e._v("批量删除")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.showDialog("add")}}},[e._v("新增")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableData.loading,expression:"tableData.loading"}],attrs:{data:e.tableData.array,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.selsChange}},[a("el-table-column",{attrs:{align:"center",type:"selection"}}),a("el-table-column",{attrs:{align:"center",prop:"platformName",label:"平台名称"}}),a("el-table-column",{attrs:{align:"center",prop:"distributeType",label:"渠道类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(e.map.distributeType[t.row.distributeType])+" ")]),2==t.row.distributeType?a("span",[e._v("(用户ID:"+e._s(t.row.userId)+")")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",prop:"sysUserId",label:"渠道商管理员"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.map.admin[t.row.sysUserId])+" ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"price",label:"单价"}}),a("el-table-column",{attrs:{align:"center",prop:"settleType",label:"结算方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.map.settleType[t.row.settleType])+" ")]}}])}),a("el-table-column",{attrs:{align:"center",prop:"threshold",label:"扣量阈值"}}),a("el-table-column",{attrs:{align:"center",prop:"resetValue",label:"扣量重置值"}}),a("el-table-column",{attrs:{align:"center",prop:"url",label:"推广链接"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.url?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.copy(t.row.url)}}},[e._v("复制")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{align:"center",prop:"updateTime",label:"修改时间"}}),a("el-table-column",{attrs:{align:"center",prop:"operator",label:"操作人"}}),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showDialog("edit",t.row)}}},[e._v("编辑")])]}}])})],1),a("pagination",{attrs:{"pager-size":e.pager.pageSize,"pager-index":e.pager.pageNo,"pager-total":e.pager.total},on:{"pagination-change":e.handlePagerChange}}),a("el-dialog",{attrs:{visible:e.dialogVisible.info,width:"460px",title:("add"===e.mode?"新增":"编辑")+"渠道商信息",center:""},on:{"update:visible":function(t){return e.$set(e.dialogVisible,"info",t)}}},[a("el-form",{attrs:{"label-position":"right","label-width":"100px",model:e.form,size:"mini"}},[a("el-form-item",{attrs:{label:"平台名称"}},[a("el-input",{model:{value:e.form.platformName,callback:function(t){e.$set(e.form,"platformName",t)},expression:"form.platformName"}})],1),a("el-form-item",{attrs:{label:"渠道商管理员"}},[a("el-select",{attrs:{clearable:""},model:{value:e.form.sysUserId,callback:function(t){e.$set(e.form,"sysUserId",t)},expression:"form.sysUserId"}},e._l(e.map.admin,(function(e,t){return a("el-option",{key:t,attrs:{value:t,label:e}})})),1)],1),a("el-form-item",{attrs:{label:"单价"}},[a("el-input",{attrs:{type:"number",min:"0"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),a("el-form-item",{attrs:{label:"结算方式"}},[a("el-select",{attrs:{clearable:""},model:{value:e.form.settleType,callback:function(t){e.$set(e.form,"settleType",t)},expression:"form.settleType"}},e._l(e.map.settleType,(function(e,t){return a("el-option",{key:t,attrs:{value:t,label:e}})})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible.info=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small",loading:e.formLoading},on:{click:e.updateSubmit}},[e._v("提 交")])],1)],1),a("input",{staticClass:"copy",staticStyle:{position:"absolute","z-index":"-1",opacity:"0"},attrs:{type:"text"}})],1)},r=[],i=(a("4de4"),a("a15b"),a("d81d"),a("d3b7"),a("96cf"),a("1da1")),o=a("333d"),l=a("2241"),s=a("ed08"),c={components:{Pagination:o["a"]},data:function(){return{mode:"",dialogVisible:{info:!1},multipleTable:[],filter:{platformName:"",distributeType:"",sysUserId:""},map:{distributeType:{1:"平台外包",2:"用户分销",3:"自来客"},settleType:{1:"uv",2:"cpa",3:"s"},status:{1:"启用",2:"停用",3:"拉黑"},admin:{}},tableData:{array:[],row:{},loading:!1},form:{distributeType:"",price:"",settleType:"",sysUserId:""},formLoading:!1,pager:{pageNo:1,pageSize:10,total:0}}},created:function(){this.queryAdminMap(),this.fetchData()},methods:{copy:function(e){var t=document.querySelector("input.copy");t.value=e||"",t.select(),document.execCommand("Copy"),this.$message.success("复制成功")},selsChange:function(e){this.multipleTable=e},handlePagerChange:function(e){this.pager.pageNo=e.index,this.pager.pageSize=e.size,this.fetchData()},showDialog:function(e,t){this.mode=e,this.tableData.row=t||{},this.form=Object(s["c"])(this.form),"edit"===e&&(this.form=Object(s["b"])(this.form,t,{numberToString:!0})),this.dialogVisible.info=!0},updateSubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.formLoading=!0,a=Object.assign({id:e.tableData.row.id},e.form),a=Object(s["a"])(a),Object(l["g"])(a,e.mode).then((function(t){e.$message.success(t.message),e.dialogVisible.info=!1,e.fetchData()})).finally((function(t){e.formLoading=!1}));case 4:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;this.tableData.loading=!0;var t=Object.assign({pageNo:this.pager.pageNo,pageSize:this.pager.pageSize},this.filter);Object(l["e"])(t).then((function(t){var a=t.result,n=void 0===a?{}:a;e.tableData.array=n.records,e.pager.total=n.total})).finally((function(t){e.tableData.loading=!1}))},queryAdminMap:function(){var e=this;Object(l["c"])().then((function(t){e.map.admin=t.result||{}}))},deleteBatch:function(){var e=this,t=this.multipleTable.map((function(e){return e.id})).join(",");console.log(t),this.$confirm("确定要删除选中的渠道商信息吗?","提示").then((function(){Object(l["b"])({ids:t}).then((function(t){e.$message.success(t.message),e.fetchData()}))}))}}},u=c,f=a("2877"),p=Object(f["a"])(u,n,r,!1,null,null,null);t["default"]=p.exports},"333d":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-pagination",{staticClass:"table-pagination",attrs:{"page-sizes":[10,20,30,40,50],"page-size":e.pagerSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagerTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},r=[],i=(a("a9e3"),{props:{pagerSize:{type:Number,default:10},pagerIndex:{type:Number,default:1},pagerTotal:{type:Number,default:0}},data:function(){return{pager:{index:1,size:10,total:0}}},created:function(){this.pager.index=this.pagerIndex,this.pager.size=this.pagerSize,this.pager.total=this.pagerTotal},methods:{handleSizeChange:function(e){this.pager.size=e,this.$emit("pagination-change",this.pager)},handleCurrentChange:function(e){this.pager.index=e,this.$emit("pagination-change",this.pager)}}}),o=i,l=(a("5fea"),a("2877")),s=Object(l["a"])(o,n,r,!1,null,null,null);t["a"]=s.exports},"4d90":function(e,t,a){"use strict";var n=a("23e7"),r=a("0ccb").start,i=a("9a0c");n({target:"String",proto:!0,forced:i},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"53ca":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0");function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}},"5fea":function(e,t,a){"use strict";var n=a("8140"),r=a.n(n);r.a},8140:function(e,t,a){},"9a0c":function(e,t,a){var n=a("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},a15b:function(e,t,a){"use strict";var n=a("23e7"),r=a("44ad"),i=a("fc6a"),o=a("a640"),l=[].join,s=r!=Object,c=o("join",",");n({target:"Array",proto:!0,forced:s||!c},{join:function(e){return l.call(i(this),void 0===e?",":e)}})},a9e3:function(e,t,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),o=a("6eeb"),l=a("5135"),s=a("c6b6"),c=a("7156"),u=a("c04e"),f=a("d039"),p=a("7c73"),d=a("241c").f,m=a("06cf").f,b=a("9bf2").f,g=a("58a8").trim,h="Number",y=r[h],v=y.prototype,T=s(p(v))==h,S=function(e){var t,a,n,r,i,o,l,s,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=g(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(i=c.slice(2),o=i.length,l=0;l<o;l++)if(s=i.charCodeAt(l),s<48||s>r)return NaN;return parseInt(i,n)}return+c};if(i(h,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,_=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof _&&(T?f((function(){v.valueOf.call(a)})):s(a)!=h)?c(new y(S(t)),a,_):S(t)},I=n?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),N=0;I.length>N;N++)l(y,w=I[N])&&!l(_,w)&&b(_,w,m(y,w));_.prototype=v,v.constructor=_,o(r,h,_)}},ed08:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));a("4160"),a("c975"),a("b64b"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("4d90"),a("5319"),a("1276"),a("159b"),a("53ca");function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=Object.keys(e);return a.forEach((function(a){-1===t.indexOf(a)&&(e[a]="")})),e}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=Object.keys(e);return a.forEach((function(a){-1!==t.indexOf(a)||void 0!==e[a]&&null!==e[a]&&""!==e[a]||delete e[a]})),e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{};for(var n=Object.keys(t),r=a.clearKeys,i=void 0===r?[]:r,o=0,l=n;o<l.length;o++){var s=l[o];if(s in e){if(i.indexOf(s)>-1)continue;"number"===typeof t[s]&&a.numberToString?e[s]=t[s].toString():e[s]=t[s]}}return e}}}]);